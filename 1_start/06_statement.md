# Заавар

Зааврууд нь компютерт юу хийхийг зааварлах элементүүд юм.

Жишээ нь:
* хувьсагчид утга оноо;
* функцэд параметр дамжуул;
* функцэд удирдлагыг шилжүүл;
* дараах заавар руу үсэр гэх мэт...

Бүх зааврууд нийлээд програм юу хийдгийг тодорхойлно.

## Заавруудыг бүлэглэх

Хэд хэдэн заавруудыг угалзан хаалтаар `{ }` хашиж нэг бүлэг заавар болгодог. Үүнийг *блок заавар* гэж хэлнэ. Блок заавар нь нэг заавар мэтээр програмын аль ч хэсэгт хэрэглэгдэж болно.

Жишээ нь:

```go
{
   var x = 0   // зарлалт
   x++         // заавар
   x = y + 5   // заавар
}
```
Блок дотор хувьсагч зарлах бол ихэвчлэн эхэнд нь бичдэг. Блок дотор тодорхойлогдсон хувьсагч нь тухайн блок дотор л хүчинтэй байдаг тухай бид өмнө үзсэн.

## Салаалах заавар

Салаалах заавар нь програмын биелэлтийг өгөгдсөн нөхцөлөөс хамааруулан өөр өөр замуудаар гүйцэтгэхэд хэрэглэгдэнэ. Go хэлэнд `if` ба `switch` гэсэн хоёр салаалах заавар байдаг. Функцийн дуудалт нь мөн нэг төрлийн салаалах заавар юм, гэхдээ нөхцөлгүйгээр програмын удирдлагыг өөр тийш салаалуулна.

### if заавар

`if` заавар нь дараах хэлбэртэй бичигдэнэ.

```go
if n % 2 == 0 {
  println("n бол тэгш тоо" )
} else {
  println("n бол сондгой тоо" )
}
```

Дээрх кодыг гүйцэтгэхдээ эхлээд `n%2 == 0` илэрхийллийг үнэлнэ. Хэрэв энэ илэрхийллийн утга үнэн бол эхний заавар биелэнэ, эсрэг тохиолдолд `else` блокт бичсэн заавар биелэнэ.

`if` зааврын `else` хэсэг нь шаардлагагүй бол орхиж болно.

### switch заавар

`switch` заавар нь `else if` цуваатай төстэй, гэхдээ илүү энгийн, уншихад хялбар байдаг.

Жишээ нь дараах өгөгдсөн сар хэд хоногтойг тооцоолох програмыг үзэе.

```go
package main
import "fmt"

var year int  	/* он */
var month int 	/* сар */

func main() {
 fmt.Print("Он, сар ? ")
 fmt.Scanf("%d %d", &year, &month)

 fmt.Print(year, month, " сар ")
 switch month {
  case 1,3,5,7,8,10,12:
	fmt.Println("31 хоногтой")
  case 4,6,9,11:
	fmt.Println( "30 хоногтой" )
  case 2: // өндөр жил эсэх
	if year == 400 || (year % 4 == 0 && year % 100 == 0) {
  	   fmt.Println( "29 хоногтой" )
	} else {
	   fmt.Println( "28 хоногтой" )
      }
  default:
    	fmt.Println( "Сарын дугаар буруу!" )
 }
}
```

`switch` доторх `case`-н ард бичсэн нөхцөлүүд тохирч байвал түүний ард бичигдсэн зааврыг гүйцэтгэнэ. Дээрх жишээнд `case`-н ард 1,3,5,7,8,10,12 гэж олон утга бичсэн байна.

Хэрэв сарын дугаар буруу тохиолдолд case нөхцөлүүдийн аль нь ч тохирохгүй юм, энэ тохиолдолд `default` –н ард бичигдсэн заавар биелэх болно. Ерөнхийдөө `default` заавар нь заавал шаардагдахгүй боловч `switch` дотор бичиж занших нь зүйтэй юм.

## Давтах заавар

Давтах зааврууд нь өгөгдсөн кодын хэсгийг тодорхой тооны удаа эсвэл тодорхой нөхцөлөөр давтан гүйцэтгэх боломжийг олгоно. Тухайлбал ямар нэг зүйлийг тоолох, нийлбэрчлэх зэрэгт давтах шаардлага гарна.

Жишээ нь хэрэглэгчийн оруулсан 5 тооны нийлбэр олоход `for` давталтыг ашиглая:

```go
package main
import "fmt"

var (
  total int      /* нийт дүн */
  current int    /* хэрэглэгчээс  өгөх утга */
  counter int    /* давталтын тоолуур */
)

func main() {
    total = 0
    for counter = 0; counter < 5; counter++ {
        print("Тоо? ")
        fmt.Scanf("%d", &current)
        total += current
    }

    fmt.Printf("Нийт дүн %d\n", total)
}
```

Энд `counter` нь 0, 1, 2, 3, 4 гэж тоолж 5 удаа давтана.

### Төгсөхгүй давталт

Зарим тохиолдолд төгсгөхгүй давталтыг ашиглах шаардлага гардаг.

Дараах давталт нь төгсөхгүй давталт юм.

```go
for {

}
```

Жишээлбэл, тодорхойгүй тооны нийлбэр бодох тохиолдолд хэчнээн тоо оруулахыг мэдэхгүй учраас хэдэн удаа давтахаа мэдэхгүй. Энэ үед төгсгөлгүй давталт зохион байгуулж болно. Төгсөх нөхцөлгүй давталтыг дуусгахдаа `break` зааврыг ашиглаж болно.

Зарим тохиолдолд алдаа гаргаж, санамсаргүйгээр төгсгөлгүй давталт үүсгэсэн байдаг. Энэ тохиолдолд програм тасралтгүй ажиллаж CPU-д их хэмжээний ачаалал өгөх шинж ажиглагдана. Ийм програмыг хүчээр зогсоохоос өөр аргагүй болдог.

### break заавар

Давталт нь нөхцөл худал утгатай болоход төгсөнө. Харин break зааврыг ашиглан ямар ч үед давталтаас гарч болно.

Жишээ нь бид цуврал тоонуудын нийлбэрийг олох ёстой байг, гэхдээ яг хэдэн тоо нэмэхийг мэдэхгүй. Бидэнд цувралын төгсгөлд хүрлээ гэдгийг програмд мэдээлэх арга зам хэрэгтэй. Энэ зорилгоор тэг тоог (`0`) жагсаалтын төгсгөл болгон сонгоё.

Энэ бодлогыг шийдэхийн тулд төгсгөлгүй давталт ашиглах бөгөөд хэрэглэгч `0` тоо оруулсан үед `break` заавар ашиглан давталтыг таслана.

```go
if item == 0 {
  break
}
```

Програмын бүтэн эх кодыг бичвэл:

```go
package main
import "fmt"

var total int  /* нийт дүн */
var item int   /* нэмэх утга */

func main() {
    total = 0
    for {
        fmt.Printf("Тоо оруулна уу ( 0 оруулвал дуусна) ? ")
        fmt.Scanf("%d", &item)

        if item == 0 {
            break
        }

        total += item
    }
    fmt.Printf("Эцсийн дүн %d\n", total)
}
```

### continue заавар

`continue` заавар нь `break` заавартай төстэй, ялгаа нь давталтыг таслахын оронд цааш үргэлжлүүлэн гүйцэтгэдэг. Жишээлбэл, өмнөх жишээнд зөвхөн `0`-ээс их тоонуудыг нэмэхийг хүсвэл програмыг дараах байдлаар өөрчилж болно.

```go
package main
import "fmt"

var item int   /* нэмэх утга */

func main() {
    total := 0
    for {
        fmt.Printf("Тоо оруулна уу ( 0 оруулвал дуусна) ? ")
        fmt.Scanf("%d", &item)

        if item == 0 {
            break
        }

        if item < 0 {
            continue
        }

        total += item
    }
    fmt.Printf("Эцсийн дүн %d\n", total)
}
```


